<div class="manage-page">
  <div class="card">
    <!-- Header Section -->
    <div class="header-row">
      <h2 class="title">ğŸ§¾ Manage Exams & Quizzes</h2>
      <button class="dashboard-btn" (click)="goToTeacherDashboard()">ğŸ  Dashboard</button>
    </div>

    <!-- Tabs -->
    <div class="tabs">
      <button [class.active]="activeTab === 'exams'" (click)="switchTab('exams')">
        ğŸ§® Exams
      </button>
      <button [class.active]="activeTab === 'quizzes'" (click)="switchTab('quizzes')">
        ğŸ§© Quizzes
      </button>

      <button *ngIf="activeTab === 'exams'" class="create-btn" (click)="createExam()">
        â• Create Exam
      </button>

      <button *ngIf="activeTab === 'quizzes'" class="create-btn" (click)="createQuiz()">
        â• Create Quiz
      </button>
    </div>

    <!-- Message -->
    <div *ngIf="serverMessage" class="message">{{ serverMessage }}</div>

    <!-- Exams Table -->
    <div *ngIf="activeTab === 'exams'" class="table-container">
      <table class="styled-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Title</th>
            <th>Description</th>
            <th>Duration</th>
            <th>Questions</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let exam of exams; index as i">
            <td>{{ i + 1 }}</td>
            <td>{{ exam.title }}</td>
            <td>{{ exam.description }}</td>
            <td>{{ exam.durationMinutes }} min</td>
            <td>{{ exam.questions?.length || 0 }}</td>
            <td>
              <button class="btn view" (click)="router.navigate(['/teacher/view-exam', exam.id])">
                ğŸ‘ View
              </button>
              <button class="btn delete" (click)="deleteExam(exam.id)">ğŸ—‘ Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>

    <!-- Quizzes Table -->
    <div *ngIf="activeTab === 'quizzes'" class="table-container">
      <table class="styled-table">
        <thead>
          <tr>
            <th>#</th>
            <th>Title</th>
            <th>Description</th>
            <th>Duration</th>
            <th>Questions</th>
            <th>Actions</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let quiz of quizzes; index as i">
            <td>{{ i + 1 }}</td>
            <td>{{ quiz.title }}</td>
            <td>{{ quiz.description }}</td>
            <td>{{ quiz.durationMinutes }} min</td>
            <td>{{ quiz.questions?.length || 0 }}</td>
            <td>
              <button class="btn view" (click)="router.navigate(['/teacher/view-quiz', quiz.id])">
                ğŸ‘ View
              </button>
              <button class="btn delete" (click)="deleteQuiz(quiz.id)">ğŸ—‘ Delete</button>
            </td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
